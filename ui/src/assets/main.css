@import "tailwindcss";

@layer components {

  /* Main Layout Shell */
  .app-shell {
    @apply flex flex-col h-screen bg-[#0f172a] text-[#94a3b8] font-sans overflow-hidden;
  }

  /* Header Section */
  .app-header {
    @apply flex items-center justify-between px-8 py-4 bg-[#1e293b]/50 border-b border-white/5 backdrop-blur-md z-10;
  }

  .header-brand {
    @apply flex items-center gap-3 text-white font-bold text-lg tracking-tight;
  }

  /* Navigation Tabs */
  .tab-nav {
    @apply flex p-1 bg-slate-900/50 rounded-xl border border-white/5 ml-10;
  }

  .tab-button {
    @apply px-5 py-2 rounded-lg text-xs font-bold transition-all uppercase tracking-wider flex items-center;
  }

  .tab-button-active {
    @apply bg-blue-500/10 text-blue-400 shadow-sm ring-1 ring-blue-500/20;
  }

  .tab-button-inactive {
    @apply text-slate-500 hover:text-slate-300;
  }

  /* --- FIXED LAYOUT CLASSES --- */
  .main-layout {
    @apply flex flex-1 overflow-hidden px-8 pb-8 gap-6 relative;
  }

  .identity-list-container {
    @apply w-[480px] shrink-0 overflow-y-auto space-y-3 pr-2;
  }

  .loading-overlay {
    @apply absolute inset-0 z-50 flex flex-col items-center justify-center bg-[#0f172a]/60 backdrop-blur-md;
  }

  .spinner {
    @apply w-12 h-12 border-4 border-white/5 border-t-blue-400 rounded-full animate-spin;
  }

  /* Custom styling for the Select Dropdown */
  select {
    @apply appearance-none bg-slate-900/60 border border-white/10 rounded-2xl px-6 py-3 text-sm text-slate-300 outline-none transition-colors cursor-pointer;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%23475569'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: right 1.5rem center;
    background-size: 1rem;
  }

  select option {
    @apply bg-[#1e293b] text-slate-200;
  }

  select:focus {
    @apply ring-2 ring-blue-500/20 border-blue-500/40;
  }

  /* --- NEW YAML & COPY CLASSES --- */
  .yaml-block {
    @apply rounded-2xl border border-white/5 bg-slate-950 p-5 shadow-inner relative overflow-hidden;
  }

  .yaml-code {
    @apply text-[11px] font-mono whitespace-pre overflow-x-auto;
  }

  .copy-btn {
    @apply flex items-center gap-2 px-2 py-1 rounded border border-white/5 text-[9px] font-black text-slate-500 hover:text-white hover:bg-white/10 hover:border-white/10 transition-all active:scale-95;
  }

  .workspace-toolbar {
    @apply px-6 py-4 flex items-center gap-4 bg-gradient-to-b from-slate-900/40 to-transparent border-b border-white/5;
  }

  .workspace-main {
    @apply flex-1 min-h-0 overflow-hidden;
  }

  .workspace-split {
    @apply h-full grid grid-cols-1 lg:grid-cols-[minmax(360px,36%)_minmax(0,1fr)] gap-4 p-4;
  }

  .workspace-list-pane {
    @apply rounded-3xl border border-white/10 bg-slate-900/25 overflow-y-auto;
  }

  .workspace-detail-pane {
    @apply rounded-3xl border border-white/10 bg-slate-900/25 overflow-hidden flex flex-col min-h-0;
  }

  .workspace-card {
    @apply rounded-2xl border border-white/10 bg-slate-950/40 p-4;
  }

  .insight-card {
    @apply rounded-2xl border border-blue-500/20 bg-gradient-to-r from-[#1f2a56]/70 to-[#1b3a66]/60 p-5;
  }

  .chip-btn {
    @apply text-[11px] px-3 py-1.5 rounded-full border font-mono transition-colors;
  }

  .detail-tab-btn {
    @apply px-3 py-2 text-[11px] font-black uppercase tracking-wider transition-colors;
  }
}

/* Custom Scrollbar Styles (Standard CSS) */
.custom-scroll::-webkit-scrollbar {
  width: 5px;
  height: 5px;
}

.custom-scroll::-webkit-scrollbar-track {
  background: transparent;
}

.custom-scroll::-webkit-scrollbar-thumb {
  background: #334155;
  border-radius: 10px;
}

.custom-scroll::-webkit-scrollbar-thumb:hover {
  background: #475569;
}

/* Code block cleanups */
pre {
  scrollbar-width: thin;
  scrollbar-color: #334155 transparent;
}

/* Global Animations */
.animate-in {
  animation: fadeIn 0.4s ease-out;
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(4px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}
